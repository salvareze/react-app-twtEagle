(this["webpackJsonpreact-act1"]=this["webpackJsonpreact-act1"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(27),r=a.n(n),i=(a(34),a(8)),o=(a(35),a(9)),l=a(0);var d=function(){return Object(l.jsxs)("nav",{id:"navbarMenu",className:"navbar navbar-light bg-light px-3 mb-5 p-2",children:[Object(l.jsxs)(o.b,{className:"navbar-brand",to:"/",children:[Object(l.jsx)("img",{src:"data:image/png;base64,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",alt:"",width:"30",height:"24",className:"d-inline-block align-text-top"}),"Eagle TwT"]}),Object(l.jsx)("ul",{className:"nav nav-pills",children:Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{id:"btnProfile",to:"/profile",className:"btn btn-white",children:Object(l.jsx)("i",{className:"bi bi-person-circle",stylename:"font-size: 8rem; color: cornflowerblue;"})})})})]})};var b=function(e){var t=e.search,a=e.onChange;return Object(l.jsx)("div",{className:"input-group mb-3 row",children:Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-4",children:Object(l.jsxs)("div",{className:"input-group flex-nowrap",children:[Object(l.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:Object(l.jsx)("i",{className:"bi bi-search",stylename:"font-size: 2rem; color: cornflowerblue;"})}),Object(l.jsx)("input",{type:"text",value:t,onChange:function(e){a(e.target.value)},className:"form-control",placeholder:"Search","aria-label":"Username","aria-describedby":"addon-wrapping"})]})})})},m=(a(42),a(2)),j=a(12),u=a.n(j),h=u.a.create({baseURL:"https://three-points.herokuapp.com/api",withCredentials:!0});h.interceptors.response.use((function(e){return e.data}),(function(e){401===(null===e||void 0===e?void 0:e.response.status)&&(window.location.replace("/login"),localStorage.clear())}));var A=function(e){var t=Object(m.f)().replace,a=Object(c.useState)(e.likes),s=Object(i.a)(a,2),n=s[0];function r(e){(function(e){return u.a.post("https://three-points.herokuapp.com/api/posts/"+e+"/like",{widthCredentials:!0})})(e).then((function(e){console.log("responseLike: "+e),t("/")}))}return s[1],Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:e.image,className:"card-img-top",alt:"imgenTwT"}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("div",{className:"d-flex justify-content-between divlikes",children:[Object(l.jsx)("p",{id:"idfechaCard",className:"text-start text-muted",children:e.createdAt}),Object(l.jsxs)("button",{id:"btnLike",onClick:function(){return r(e.id)},type:"button",className:"btn btn-sm btn btn-danger btnLikes text-white",children:[Object(l.jsx)("i",{className:"bi bi-heart-fill",stylename:"font-size: 2rem; color: cornflowerblue;",children:" "}),n]})]}),Object(l.jsxs)("p",{id:"idfechaCard",className:"text-start fw-bold",children:["@",e.author]}),Object(l.jsx)("p",{id:"idTextCard",className:"text-start lh-base card-text",children:e.text}),Object(l.jsxs)("p",{id:"idTextCard",className:"text-start text-muted",children:[Object(l.jsx)("i",{className:"bi bi-chat-right",stylename:"font-size: 2rem; color: cornflowerblue;"}),"Comentarios(",e.comments.length,")"]})]})]})};var x=function(e){var t=e.posts,a=e.search;return Object(l.jsx)("div",{className:"PostList",id:"idDivTwts",children:Object(l.jsx)("div",{className:"row",children:t.filter((function(e){return e.text.includes(a)})).map((function(e){return Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-4 mb-3",children:Object(l.jsx)(A,{id:e.id,createdAt:e.createdAt,author:e.author.username,text:e.text,comments:e.comments,image:e.image,likes:e.likes},e.id)})}))})})};var p=function(e){var t=e.currentUser,a=e.onClickLogout;return Object(l.jsx)("div",{className:"row d-flex justify-content-center",children:Object(l.jsx)("div",{className:"col col-sm-10 col-md-5 col-lg-4 m-2",children:Object(l.jsxs)("div",{className:"card",stylename:"width: 18rem;",children:[Object(l.jsx)("img",{src:t.avatar,className:"card-img-top",alt:"..."}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("p",{id:"idfechaCard",className:"text-center fw-bold",children:["@",t.username]}),Object(l.jsx)("p",{className:"card-text",children:t.bio}),Object(l.jsx)(o.b,{className:"navbar-brand",to:"/",onClick:function(){return a(t.username)},children:"Salir"})]})]})})})};var g=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),s=a[0],n=a[1];return Object(l.jsx)("div",{className:"container d-flex justify-content-center",children:Object(l.jsx)("div",{className:"row justify-content-center",style:{width:"70%"},children:Object(l.jsx)("div",{className:"shadow col-sm-10 col-md-6 col-lg-6",children:Object(l.jsxs)("form",{className:"form",onSubmit:function(t){var a,c;t.preventDefault(),console.log("entro"),(a=t.target.username.value,c=t.target.password.value,h.post("/login",{username:a,password:c})).then((function(t){console.log("response: "+t.id),localStorage.setItem("idUser",JSON.stringify(t.id)),console.log("idget: "+JSON.parse(localStorage.getItem("idUser"))),e.history.replace("/")})).catch((function(){n(!0)}))},children:[Object(l.jsx)("h3",{className:"text-center text-black-50",children:"Login"}),s?Object(l.jsx)("div",{className:"form-group mb-3 alert alert-danger",role:"alert",children:"Invalid email or password"}):"",Object(l.jsxs)("div",{className:"form-group mb-3",children:[Object(l.jsx)("label",{className:"text-start",children:"User"}),Object(l.jsx)("input",{type:"text",name:"username",id:"username",className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group mb-3",children:[Object(l.jsx)("label",{className:"text-start",children:"Password"}),Object(l.jsx)("input",{type:"password",name:"password",id:"password",className:"form-control",autoComplete:"off"})]}),Object(l.jsx)("div",{className:"form-group mb-3 d-flex flex-column align-items-start",children:Object(l.jsx)("button",{type:"submit",className:"btn btn-danger btn-md",children:"Login"})})]})})})})};var O=function(){var e=Object(m.f)().replace,t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),j=o[0],A=o[1],O=Object(c.useState)({avatar:"",username:"",bio:""}),f=Object(i.a)(O,2),N=f[0],v=f[1];function w(t){(function(e){return h.post("/logout",{username:e})})(t).then((function(t){v({}),localStorage.clear(),e("/login")}))}return Object(c.useEffect)((function(){var t;(t=JSON.parse(localStorage.getItem("idUser")),u.a.get("https://three-points.herokuapp.com/api/users/"+t,{widthCredentials:!0})).then((function(t){v({avatar:t.data.avatar,username:t.data.username,bio:t.data.bio}),e("/")})).catch((function(t){e("/login")})),h.get("/posts").then((function(e){A(e)}))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)("main",{className:"container",children:Object(l.jsxs)(m.c,{children:[Object(l.jsxs)(m.a,{path:"/",exact:!0,children:[Object(l.jsx)(b,{search:s,onChange:function(e){return function(e){n(e)}(e)}}),j.length?Object(l.jsx)(x,{posts:j,search:s}):"Loading..."]}),Object(l.jsx)(m.a,{path:"/login",component:g,exact:!0}),Object(l.jsx)(m.a,{path:"/profile",exact:!0,children:Object(l.jsx)(p,{currentUser:N,onClickLogout:function(e){return w(e)}})})]})})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,62)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(O,{})})}),document.getElementById("root")),f()}},[[61,1,2]]]);
//# sourceMappingURL=main.d6441bb4.chunk.js.map